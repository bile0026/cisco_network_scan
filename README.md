# cisco_network_scan

Scans your cisco devices looking for access ports with more than 2 mac addresses learned. If this is the case, there's likely an unmanaged device connected.

## How to use

Install `cisco.ios` collection with `ansible-galaxy collection install -r collections/requirements.yml`.

Define `mac_count` to 8 if you want to report on interfaces with more than 2 mac addresses learned. (only cares about access interfaces. Trunk interfaces are assumed to have lots of mac addresses) Increment by 1 to allow additional mac addresses per interface.

Run `scan_network.yml` playbook. `ansible-playbook -i hosts scan_network.yml`

## Reporting
Reports are generated by setting `generate_report` to true.

If you want reports emailed i.e. you run this nightly and want a daily report of non-compliance, set these variables.

```
smtp_server: smtp.example.com
smtp_port: 25
email_addresses:
  - user@example.com
from_email: from@example.com
```

## Issues/bugs/suggestions
Please open an issue if you find bugs or have suggestions.
